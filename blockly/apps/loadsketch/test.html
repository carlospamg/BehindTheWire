<html>
<meta http-equiv="Content-Type" content="text/html; charset=Cp1252"/>
<head>
   <title> Java Applet Test </title>
   <script>
      function sendSketchToApplet() {   
         //document.applets[0].processSketch('This text came from JavaScript');
         var myApp = document.applets['ArduApplet'];
         myApp.processSketch(document.getElementById("sketchTextArea").value);

         //document.getElementById("sketchTextArea").value =  'TEST' + document.getElementById("sketchTextArea").value;
      }
   </script>
</head>

<body>
   <textarea rows="10" cols="500" name="sketchCode" id="sketchTextArea">
int led = 13; //from html
void setup() {
  pinMode(led, OUTPUT);
}
void loop() {
  digitalWrite(led, HIGH);
  delay(1000);
  digitalWrite(led, LOW);
  delay(1000);
}
   </textarea>

   <button type="button" onclick="sendSketchToApplet()">Send Sketch to the Applet!</button> 

   <applet code=ArduinoAppletPackage.ArduinoApplet.class name="ArduApplet" width="200" height="200"> </applet>

</body>
</html>
